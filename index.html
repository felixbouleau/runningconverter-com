<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running pace converter</title>
    <meta name="description" content="Easily convert between running paces (minutes/kilometer <-> minutes/mile) and popular race lengths.">
    <link rel="canonical" href="https://www.runningconverter.com">
    <link href="/styles.css" rel="stylesheet" type="text/css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="manifest" href="/site.webmanifest">
</head>
<body class="flex items-center justify-center flex-col min-h-screen">
    <div class="flex-1 p-6 relative w-[400px]">
        <div class="flex justify-center items-center">
            <img src="/android-chrome-192x192.png" alt="alternate text">
        </div>
        <h2 class="text-2xl font-bold mb-4 text-center">Running pace converter</h2>
        <div class="flex items-center gap-4 mb-4">
            <div class="text-lg font-semibold w-20">min/km</div>
            <div class="flex items-center gap-2 flex-grow">
                <input type="number" id="kmMinutesInput" placeholder="min" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="kmSecondsInput" placeholder="sec" class="input input-bordered flex-grow" min="0" max="59">
            </div>
        </div>

        <div class="flex items-center gap-4 mb-4">
            <div class="text-lg font-semibold w-20">min/mi</div>
            <div class="flex items-center gap-2 flex-grow">
                <input type="number" id="mileMinutesInput" placeholder="min" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="mileSecondsInput" placeholder="sec" class="input input-bordered flex-grow" min="0" max="59">
            </div>
        </div>
        <div class="flex items-center gap-4 mb-4">
            <div class="flex items-center w-20">
                <input type="number" id="customKmDistanceInput" placeholder="km" class="input input-bordered w-14" min="0" step="0.1" value="5">
                <span class="text-xs ml-1">km</span>
            </div>
            <div class="flex items-center gap-2 flex-grow">
                <input type="number" id="customKmMinutesInput" placeholder="min" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="customKmSecondsInput" placeholder="sec" class="input input-bordered flex-grow" min="0" max="59">
            </div>
        </div>
        <div class="flex items-center gap-4 mb-4">
            <div class="flex items-center w-20">
                <input type="number" id="customMiDistanceInput" placeholder="mi" class="input input-bordered w-14" min="0" step="0.1">
                <span class="text-xs ml-1">mi</span>
            </div>
            <div class="flex items-center gap-2 flex-grow">
                <input type="number" id="customMiMinutesInput" placeholder="min" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="customMiSecondsInput" placeholder="sec" class="input input-bordered flex-grow" min="0" max="59">
            </div>
        </div>
        <div class="flex items-center gap-4 mb-4">
            <div class="text-lg font-semibold w-14">HM</div>
            <div class="flex items-center gap-2 flex-grow">
                <input type="number" id="halfMarathonHoursInput" placeholder="hour" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="halfMarathonMinutesInput" placeholder="min" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="halfMarathonSecondsInput" placeholder="sec" class="input input-bordered flex-grow" min="0" max="59">
            </div>
        </div>
        <div class="flex items-center gap-4 mb-4">
            <div class="text-lg font-semibold w-14">Mara.</div>
            <div class="flex items-center gap-2 flex-grow">
                <input type="number" id="marathonHoursInput" placeholder="hour" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="marathonMinutesInput" placeholder="min" class="input input-bordered flex-grow" min="0" max="59">
                <span>:</span>
                <input type="number" id="marathonSecondsInput" placeholder="sec" class="input input-bordered flex-grow" min="0" max="59">
            </div>
        </div>
    </div>
    <div class="flex mb-4">
      <a href="https://github.com/felixbouleau/runningconverter-com" target="_blank" class="bottom-4 right-4 text-gray-500 hover:text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="gray">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
        </svg>
      </a>
    </div>
    <script>
        function convertPace(hours, minutes, seconds) {
            return (hours * 60) + minutes + (seconds / 60);
        }

        function handleMilePace(kmMinutes, kmSeconds) {
            const kmPace = convertPace(Number(0), Number(kmMinutes), Number(kmSeconds));
            updateTimes(kmPace, "km");
        }

        function handleKmPace(mileMinutes, mileSeconds) {
            const milePace = convertPace(Number(0), Number(mileMinutes), Number(mileSeconds));
            const kmPace = milePace / 1.609344;
            updateTimes(kmPace, "mile");
        }

        function handleCustomKmPace(distance, minutes, seconds, isDistanceChange = false) {
            const totalTime = convertPace(Number(0), Number(minutes), Number(seconds));
            const kmPace = totalTime / Number(distance);
            updateTimes(kmPace, isDistanceChange ? "customKm" : "customKmTime");
        }

        function handleCustomMiPace(distance, minutes, seconds, isDistanceChange = false) {
            const totalTime = convertPace(Number(0), Number(minutes), Number(seconds));
            const miPace = totalTime / Number(distance);
            const kmPace = miPace / 1.609344;
            updateTimes(kmPace, isDistanceChange ? "customMi" : "customMiTime");
        }

        function handleHalfMarathonPace(hours, minutes, seconds) {
            const kmPace = convertPace(Number(hours), Number(minutes), Number(seconds))/21.0975;
            updateTimes(kmPace, "hm");
        }

        function handleMarathonPace(hours, minutes, seconds) {
            const kmPace = convertPace(Number(hours), Number(minutes), Number(seconds))/42.195;
            updateTimes(kmPace, "marathon");
        }

        function updateTimes(kmPace, skip) {
            // Check if this update was triggered by a distance field change
            const isDistanceChange = skip === "customKm" || skip === "customMi";
            
            if (skip != "km") {
                const kmMinutes = Math.floor(kmPace);
                const kmSeconds = Math.round((kmPace - kmMinutes) * 60);
                
                // Only update if not a distance change or if fields already have values
                if (!isDistanceChange || kmMinutesInput.value !== "" || kmSecondsInput.value !== "") {
                    kmMinutesInput.value = kmMinutes;
                    kmSecondsInput.value = kmSeconds;
                }
            }
            
            if (skip != "customKm") {
                // Update kilometers distance based on miles if miles was the source of change
                if (skip === "customMi") {
                    customKmDistanceInput.value = (Number(customMiDistanceInput.value) * 1.609344).toFixed(1);
                }
                
                const customKmDistance = Number(customKmDistanceInput.value) || 5;
                const customKmPace = kmPace * customKmDistance;
                const customKmMinutes = Math.floor(customKmPace);
                const customKmSeconds = Math.round((customKmPace - customKmMinutes) * 60);
                
                // Only update time fields if not a distance change or if fields already have values
                if (!isDistanceChange || customKmMinutesInput.value !== "" || customKmSecondsInput.value !== "") {
                    customKmMinutesInput.value = customKmMinutes;
                    customKmSecondsInput.value = customKmSeconds;
                }
            }
            
            if (skip != "customMi") {
                // Update miles distance based on kilometers if kilometers was the source of change
                if (skip === "customKm") {
                    customMiDistanceInput.value = (Number(customKmDistanceInput.value) / 1.609344).toFixed(1);
                }
                
                const customMiDistance = Number(customMiDistanceInput.value) || 3.1;
                const customMiPace = kmPace * 1.609344 * customMiDistance;
                const customMiMinutes = Math.floor(customMiPace);
                const customMiSeconds = Math.round((customMiPace - customMiMinutes) * 60);
                
                // Only update time fields if not a distance change or if fields already have values
                if (!isDistanceChange || customMiMinutesInput.value !== "" || customMiSecondsInput.value !== "") {
                    customMiMinutesInput.value = customMiMinutes;
                    customMiSecondsInput.value = customMiSeconds;
                }
            }
            
            if (skip != "mile") {
                const milePace = kmPace * 1.609344;
                const mileMinutes = Math.floor(milePace);
                const mileSeconds = Math.round((milePace - mileMinutes) * 60);
                
                // Only update if not a distance change or if fields already have values
                if (!isDistanceChange || mileMinutesInput.value !== "" || mileSecondsInput.value !== "") {
                    mileMinutesInput.value = mileMinutes;
                    mileSecondsInput.value = mileSeconds;
                }
            }
            
            if (skip != "hm") {
                const halfMarathonPace = kmPace * 21.0975;
                const halfMarathonHours = Math.floor(halfMarathonPace / 60)
                const halfMarathonMinutes = Math.floor(halfMarathonPace % 60);
                const halfMarathonSeconds = Math.round(((halfMarathonPace % 60) - halfMarathonMinutes) * 60);
                
                // Only update if not a distance change or if fields already have values
                if (!isDistanceChange || halfMarathonHoursInput.value !== "" || halfMarathonMinutesInput.value !== "" || halfMarathonSecondsInput.value !== "") {
                    halfMarathonHoursInput.value = halfMarathonHours;
                    halfMarathonMinutesInput.value = halfMarathonMinutes;
                    halfMarathonSecondsInput.value = halfMarathonSeconds;
                }
            }
            
            if (skip != "marathon") {
                const marathonPace = kmPace * 42.195;
                const marathonHours = Math.floor(marathonPace / 60)
                const marathonMinutes = Math.floor(marathonPace % 60);
                const marathonSeconds = Math.round(((marathonPace % 60) - marathonMinutes) * 60);
                
                // Only update if not a distance change or if fields already have values
                if (!isDistanceChange || marathonHoursInput.value !== "" || marathonMinutesInput.value !== "" || marathonSecondsInput.value !== "") {
                    marathonHoursInput.value = marathonHours;
                    marathonMinutesInput.value = marathonMinutes;
                    marathonSecondsInput.value = marathonSeconds;
                }
            }
        }

        kmMinutesInput.addEventListener('input', () => handleMilePace(kmMinutesInput.value, kmSecondsInput.value || 0));
        kmSecondsInput.addEventListener('input', () => handleMilePace(kmMinutesInput.value || 0, kmSecondsInput.value));
        
        mileMinutesInput.addEventListener('input', () => handleKmPace(mileMinutesInput.value, mileSecondsInput.value || 0));
        mileSecondsInput.addEventListener('input', () => handleKmPace(mileMinutesInput.value || 0, mileSecondsInput.value));
        
        customKmDistanceInput.addEventListener('input', () => handleCustomKmPace(customKmDistanceInput.value || 5, customKmMinutesInput.value || 0, customKmSecondsInput.value || 0, true));
        customKmMinutesInput.addEventListener('input', () => handleCustomKmPace(customKmDistanceInput.value || 5, customKmMinutesInput.value, customKmSecondsInput.value || 0, false));
        customKmSecondsInput.addEventListener('input', () => handleCustomKmPace(customKmDistanceInput.value || 5, customKmMinutesInput.value || 0, customKmSecondsInput.value, false));
        
        customMiDistanceInput.addEventListener('input', () => handleCustomMiPace(customMiDistanceInput.value || 3.1, customMiMinutesInput.value || 0, customMiSecondsInput.value || 0, true));
        customMiMinutesInput.addEventListener('input', () => handleCustomMiPace(customMiDistanceInput.value || 3.1, customMiMinutesInput.value, customMiSecondsInput.value || 0, false));
        customMiSecondsInput.addEventListener('input', () => handleCustomMiPace(customMiDistanceInput.value || 3.1, customMiMinutesInput.value || 0, customMiSecondsInput.value, false));
        
        halfMarathonHoursInput.addEventListener('input',() => handleHalfMarathonPace(halfMarathonHoursInput.value, halfMarathonMinutesInput.value || 0, halfMarathonSecondsInput.value || 0));
        halfMarathonMinutesInput.addEventListener('input',() => handleHalfMarathonPace(halfMarathonHoursInput.value || 0, halfMarathonMinutesInput.value, halfMarathonSecondsInput.value || 0));
        halfMarathonSecondsInput.addEventListener('input', () => handleHalfMarathonPace(halfMarathonHoursInput.value || 0, halfMarathonMinutesInput.value || 0, halfMarathonSecondsInput.value));
        
        marathonHoursInput.addEventListener('input',() => handleMarathonPace(marathonHoursInput.value, marathonMinutesInput.value || 0, marathonSecondsInput.value || 0));
        marathonMinutesInput.addEventListener('input',() => handleMarathonPace(marathonHoursInput.value || 0, marathonMinutesInput.value, marathonSecondsInput.value || 0));
        marathonSecondsInput.addEventListener('input', () => handleMarathonPace(marathonHoursInput.value || 0, marathonMinutesInput.value || 0, marathonSecondsInput.value));

        // Initialize with default values
        window.addEventListener('DOMContentLoaded', () => {
            // Set default distance for custom km input to 5km
            customKmDistanceInput.value = 5;
            // Calculate and set miles equivalent (approximately 3.1 miles)
            customMiDistanceInput.value = (5 / 1.609344).toFixed(1);
        });

    </script>
</body>
